---
import Layout from '../layouts/Layout.astro';
import ServiceCardImage from '../components/ServiceCardImage.astro';
import { services } from '../data/services';

const base = import.meta.env.BASE_URL;
const imageServices = services.filter(s => s.image);
const iconServices = services.filter(s => !s.image);

// SVG icon map for icon-only services
const iconMap: Record<string, string> = {
  tiles: '<path stroke-linecap="round" stroke-linejoin="round" d="M3.75 6A2.25 2.25 0 016 3.75h2.25A2.25 2.25 0 0110.5 6v2.25a2.25 2.25 0 01-2.25 2.25H6a2.25 2.25 0 01-2.25-2.25V6zM3.75 15.75A2.25 2.25 0 016 13.5h2.25a2.25 2.25 0 012.25 2.25V18a2.25 2.25 0 01-2.25 2.25H6A2.25 2.25 0 013.75 18v-2.25zM13.5 6a2.25 2.25 0 012.25-2.25H18A2.25 2.25 0 0120.25 6v2.25A2.25 2.25 0 0118 10.5h-2.25a2.25 2.25 0 01-2.25-2.25V6zM13.5 15.75a2.25 2.25 0 012.25-2.25H18a2.25 2.25 0 012.25 2.25V18A2.25 2.25 0 0118 20.25h-2.25A2.25 2.25 0 0113.5 18v-2.25z" />',
  ceiling: '<path stroke-linecap="round" stroke-linejoin="round" d="M2.25 12l8.954-8.955c.44-.439 1.152-.439 1.591 0L21.75 12M4.5 9.75v10.125c0 .621.504 1.125 1.125 1.125H9.75v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21h4.125c.621 0 1.125-.504 1.125-1.125V9.75M8.25 21h8.25" />',
  wrench: '<path stroke-linecap="round" stroke-linejoin="round" d="M11.42 15.17l-4.655 4.655a2.121 2.121 0 11-3-3l4.655-4.655M11.42 15.17l2.496-3.03c.317-.384.74-.626 1.208-.766M11.42 15.17l-4.655 5.653a2.548 2.548 0 11-3.586-3.586l6.837-5.63m5.108-.233c.55-.164 1.163-.188 1.743-.14a4.5 4.5 0 004.486-6.336l-3.276 3.277a3.004 3.004 0 01-2.25-2.25l3.276-3.276a4.5 4.5 0 00-6.336 4.486c.091 1.076-.071 2.264-.904 2.95l-.102.085m-1.745 1.437L5.909 7.5H4.5L2.25 3.75l1.5-1.5L7.5 4.5v1.409l4.26 4.26m-1.745 1.437l1.745-1.437m6.615 8.206L15.75 15.75M4.867 19.125h.008v.008h-.008v-.008z" />',
  tools: '<path stroke-linecap="round" stroke-linejoin="round" d="M21.75 6.75a4.5 4.5 0 01-4.884 4.484c-1.076-.091-2.264.071-2.95.904l-7.152 8.684a2.548 2.548 0 11-3.586-3.586l8.684-7.152c.833-.686.995-1.874.904-2.95a4.5 4.5 0 016.336-4.486l-3.276 3.276a3.004 3.004 0 002.25 2.25l3.276-3.276c.256.565.398 1.192.398 1.852z" />',
};
---

<Layout title="Leistungen – Kreuzer Trockenbau & Malerbetrieb" description="Unsere Leistungen: Trockenbau, Innenausbau, Malerarbeiten, Bodenbeläge, Fassadengestaltung, Fliesenarbeiten und mehr.">

  <!-- Page Header -->
  <section class="pt-36 pb-20 sm:pt-44 sm:pb-28 bg-dark-950 relative overflow-hidden">
    <div class="absolute top-0 left-1/2 -translate-x-1/2 w-[600px] h-[400px] bg-accent-500/5 rounded-full blur-3xl"></div>
    <div class="relative z-10 max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center">
      <span class="text-accent-500 text-sm font-medium uppercase tracking-widest fade-in">Was wir bieten</span>
      <h1 class="text-4xl sm:text-5xl lg:text-6xl font-light text-white mt-4 mb-5 fade-in font-heading tracking-tight">Unsere Leistungen</h1>
      <div class="h-0.5 w-16 bg-accent-500 rounded-full mx-auto mb-6 fade-in"></div>
      <p class="text-dark-400 text-lg max-w-2xl mx-auto fade-in leading-relaxed">
        Wir sind ein Handwerker-Team und legen sehr großen Wert auf Qualität, Sauberkeit und Zuverlässigkeit — und das alles zu erschwinglichen Preisen.
      </p>
    </div>
  </section>

  <!-- Services: Bento Grid for Image Services -->
  <section class="py-20 sm:py-32 lg:py-40 bg-dark-950">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">

      <!-- Image Service Cards (Bento) -->
      <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-5 mb-5 stagger-children">
        {imageServices[0] && (
          <div class="lg:col-span-2">
            <ServiceCardImage {...imageServices[0]} large={true} />
          </div>
        )}
        {imageServices[1] && (
          <div>
            <ServiceCardImage {...imageServices[1]} large={true} />
          </div>
        )}
        {imageServices[2] && (
          <div>
            <ServiceCardImage {...imageServices[2]} />
          </div>
        )}
        {imageServices[3] && (
          <div>
            <ServiceCardImage {...imageServices[3]} />
          </div>
        )}

        {/* Icon-only Service Cards */}
        {iconServices.map((service) => (
          <div class="group relative h-[220px] sm:h-[300px] rounded-2xl bg-gradient-to-b from-dark-800/80 to-dark-800/40 border border-white/[0.03] hover:border-white/[0.08] transition-all duration-700 overflow-hidden flex flex-col items-start justify-end p-6 sm:p-8">
            <div class="absolute -top-12 -right-12 w-32 h-32 bg-accent-500/10 rounded-full blur-2xl opacity-0 group-hover:opacity-100 transition-opacity duration-500"></div>
            <div class="relative w-12 h-12 rounded-xl bg-accent-500/10 border border-accent-500/15 flex items-center justify-center mb-4 group-hover:bg-accent-500/20 group-hover:border-accent-500/30 transition-all duration-500">
              <svg class="w-6 h-6 text-accent-500" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="1.5">
                <Fragment set:html={iconMap[service.icon] || iconMap.tools} />
              </svg>
            </div>
            <h3 class="relative text-white font-bold text-lg font-heading mb-2 group-hover:text-accent-400 transition-colors duration-300">{service.title}</h3>
            <p class="relative text-dark-400 text-sm leading-relaxed">{service.description}</p>
          </div>
        ))}
      </div>
    </div>
  </section>

  <!-- Additional Info -->
  <section class="py-20 sm:py-32 lg:py-40 bg-dark-900">
    <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 text-center fade-in">
      <h2 class="text-3xl sm:text-4xl font-light text-white mb-8 font-heading tracking-tight">
        Wir können noch viel mehr!
      </h2>
      <p class="text-dark-300 text-lg leading-relaxed mb-10">
        Unsere Stärken sind in erster Linie der Trockenbau und das Malerhandwerk. Aber wir sind sehr flexibel! Fragen Sie uns einfach — wir finden eine Lösung für Ihr Projekt.
      </p>
      <div class="flex flex-col sm:flex-row items-stretch sm:items-center justify-center gap-4">
        <a
          href="tel:+4909943905270"
          class="px-8 py-4 bg-accent-500 hover:bg-accent-400 text-dark-950 rounded-xl text-base font-semibold transition-all duration-300 hover:shadow-lg hover:shadow-accent-500/25 hover:-translate-y-0.5 flex items-center justify-center gap-2"
        >
          <svg class="w-5 h-5" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
            <path stroke-linecap="round" stroke-linejoin="round" d="M2.25 6.75c0 8.284 6.716 15 15 15h2.25a2.25 2.25 0 002.25-2.25v-1.372c0-.516-.351-.966-.852-1.091l-4.423-1.106c-.44-.11-.902.055-1.173.417l-.97 1.293c-.282.376-.769.542-1.21.38a12.035 12.035 0 01-7.143-7.143c-.162-.441.004-.928.38-1.21l1.293-.97c.363-.271.527-.734.417-1.173L6.963 3.102a1.125 1.125 0 00-1.091-.852H4.5A2.25 2.25 0 002.25 4.5v2.25z" />
          </svg>
          Jetzt anrufen
        </a>
        <a
          href={`${base}/kontakt`}
          class="px-8 py-4 bg-white/5 hover:bg-white/10 text-white border border-white/10 rounded-xl text-base font-semibold transition-all duration-300 hover:-translate-y-0.5 flex items-center justify-center"
        >
          Kontakt aufnehmen
        </a>
      </div>
    </div>
  </section>

</Layout>
